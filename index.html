<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title><!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pomodoro Timer & Task Manager</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        :root {
            --primary: #e74c3c;
            --primary-dark: #c0392b;
            --secondary: #3498db;
            --dark: #2c3e50;
            --light: #ecf0f1;
            --success: #2ecc71;
            --warning: #f39c12;
            --gray: #95a5a6;
            --shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }

        body {
            background-color: #f5f7fa;
            color: var(--dark);
            line-height: 1.6;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }

        header {
            background: linear-gradient(135deg, var(--primary), var(--primary-dark));
            color: white;
            padding: 20px 0;
            box-shadow: var(--shadow);
            margin-bottom: 30px;
            border-radius: 10px;
        }

        .header-content {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .logo {
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .logo i {
            font-size: 2.5rem;
        }

        .logo h1 {
            font-size: 2rem;
            font-weight: 700;
        }

        .nav-tabs {
            display: flex;
            background: white;
            border-radius: 50px;
            padding: 5px;
            box-shadow: var(--shadow);
        }

        .tab {
            padding: 12px 24px;
            border-radius: 50px;
            cursor: pointer;
            font-weight: 600;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .tab.active {
            background: var(--primary);
            color: white;
        }

        .tab:hover:not(.active) {
            background: rgba(231, 76, 60, 0.1);
        }

        .tab-content {
            display: none;
            background: white;
            border-radius: 10px;
            padding: 25px;
            box-shadow: var(--shadow);
            margin-top: 20px;
            animation: fadeIn 0.5s ease;
        }

        .tab-content.active {
            display: block;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        /* Pomodoro Timer Styles */
        .timer-container {
            text-align: center;
            padding: 30px 0;
        }

        .timer-display {
            font-size: 5rem;
            font-weight: 700;
            color: var(--primary);
            margin: 20px 0;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);
        }

        .timer-controls {
            display: flex;
            justify-content: center;
            gap: 15px;
            margin: 30px 0;
        }

        .btn {
            padding: 12px 24px;
            border: none;
            border-radius: 50px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            gap: 8px;
            box-shadow: var(--shadow);
        }

        .btn-primary {
            background: var(--primary);
            color: white;
        }

        .btn-primary:hover {
            background: var(--primary-dark);
            transform: translateY(-2px);
        }

        .btn-secondary {
            background: var(--secondary);
            color: white;
        }

        .btn-secondary:hover {
            background: #2980b9;
            transform: translateY(-2px);
        }

        .btn-light {
            background: var(--light);
            color: var(--dark);
        }

        .btn-light:hover {
            background: #d5dbdb;
            transform: translateY(-2px);
        }

        .timer-presets {
            display: flex;
            justify-content: center;
            gap: 15px;
            margin: 20px 0;
        }

        .preset-btn {
            padding: 10px 20px;
            background: white;
            border: 2px solid var(--gray);
            border-radius: 50px;
            cursor: pointer;
            font-weight: 600;
            transition: all 0.3s ease;
        }

        .preset-btn.active {
            background: var(--primary);
            color: white;
            border-color: var(--primary);
        }

        .timer-status {
            font-size: 1.2rem;
            margin: 20px 0;
            font-weight: 600;
        }

        /* Tasks Styles */
        .task-form {
            background: var(--light);
            padding: 20px;
            border-radius: 10px;
            margin-bottom: 25px;
        }

        .form-group {
            margin-bottom: 15px;
        }

        .form-group label {
            display: block;
            margin-bottom: 5px;
            font-weight: 600;
        }

        .form-control {
            width: 100%;
            padding: 12px;
            border: 1px solid #ddd;
            border-radius: 5px;
            font-size: 1rem;
        }

        .form-row {
            display: flex;
            gap: 15px;
        }

        .form-row .form-group {
            flex: 1;
        }

        .task-list {
            margin-top: 20px;
        }

        .task-item {
            background: white;
            border-left: 5px solid var(--secondary);
            padding: 15px;
            margin-bottom: 15px;
            border-radius: 5px;
            box-shadow: var(--shadow);
            display: flex;
            justify-content: space-between;
            align-items: center;
            transition: all 0.3s ease;
        }

        .task-item.completed {
            opacity: 0.7;
            border-left-color: var(--success);
        }

        .task-item.completed .task-title {
            text-decoration: line-through;
        }

        .task-info h3 {
            margin-bottom: 5px;
        }

        .task-meta {
            display: flex;
            gap: 15px;
            margin-top: 8px;
            font-size: 0.9rem;
            color: var(--gray);
        }

        .task-badge {
            padding: 3px 8px;
            border-radius: 20px;
            font-size: 0.8rem;
            font-weight: 600;
        }

        .badge-category {
            background: #e8f4fc;
            color: var(--secondary);
        }

        .badge-priority {
            background: #fff2cc;
            color: var(--warning);
        }

        .badge-tomatoes {
            background: #ffe6e6;
            color: var(--primary);
        }

        .task-actions {
            display: flex;
            gap: 10px;
        }

        .task-actions button {
            background: none;
            border: none;
            cursor: pointer;
            font-size: 1.1rem;
            color: var(--gray);
            transition: all 0.3s ease;
        }

        .task-actions button:hover {
            color: var(--dark);
        }

        /* Statistics Styles */
        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }

        .stat-card {
            background: white;
            padding: 20px;
            border-radius: 10px;
            box-shadow: var(--shadow);
            text-align: center;
        }

        .stat-value {
            font-size: 2.5rem;
            font-weight: 700;
            color: var(--primary);
            margin: 10px 0;
        }

        .stat-label {
            color: var(--gray);
            font-size: 0.9rem;
        }

        .chart-container {
            background: white;
            padding: 20px;
            border-radius: 10px;
            box-shadow: var(--shadow);
            margin-bottom: 20px;
        }

        /* Achievements Styles */
        .achievements-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
            gap: 20px;
        }

        .achievement-card {
            background: white;
            padding: 20px;
            border-radius: 10px;
            box-shadow: var(--shadow);
            text-align: center;
            transition: all 0.3s ease;
        }

        .achievement-card.locked {
            opacity: 0.5;
        }

        .achievement-icon {
            font-size: 3rem;
            margin-bottom: 15px;
            color: var(--warning);
        }

        .achievement-card.locked .achievement-icon {
            color: var(--gray);
        }

        .achievement-title {
            font-weight: 600;
            margin-bottom: 10px;
        }

        .achievement-desc {
            font-size: 0.9rem;
            color: var(--gray);
        }

        /* Settings Styles */
        .settings-group {
            background: white;
            padding: 20px;
            border-radius: 10px;
            box-shadow: var(--shadow);
            margin-bottom: 20px;
        }

        .settings-group h3 {
            margin-bottom: 15px;
            padding-bottom: 10px;
            border-bottom: 1px solid #eee;
        }

        .setting-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 10px 0;
            border-bottom: 1px solid #f5f5f5;
        }

        .setting-item:last-child {
            border-bottom: none;
        }

        .toggle-switch {
            position: relative;
            display: inline-block;
            width: 50px;
            height: 24px;
        }

        .toggle-switch input {
            opacity: 0;
            width: 0;
            height: 0;
        }

        .slider {
            position: absolute;
            cursor: pointer;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-color: #ccc;
            transition: .4s;
            border-radius: 24px;
        }

        .slider:before {
            position: absolute;
            content: "";
            height: 16px;
            width: 16px;
            left: 4px;
            bottom: 4px;
            background-color: white;
            transition: .4s;
            border-radius: 50%;
        }

        input:checked + .slider {
            background-color: var(--primary);
        }

        input:checked + .slider:before {
            transform: translateX(26px);
        }

        /* Notifications */
        .notification {
            position: fixed;
            top: 20px;
            right: 20px;
            padding: 15px 25px;
            background: var(--success);
            color: white;
            border-radius: 5px;
            box-shadow: var(--shadow);
            z-index: 1000;
            display: flex;
            align-items: center;
            gap: 10px;
            transform: translateX(150%);
            transition: transform 0.3s ease;
        }

        .notification.show {
            transform: translateX(0);
        }

        .notification.error {
            background: var(--primary);
        }

        /* Responsive */
        @media (max-width: 768px) {
            .header-content {
                flex-direction: column;
                gap: 20px;
            }

            .nav-tabs {
                width: 100%;
                overflow-x: auto;
            }

            .timer-display {
                font-size: 3.5rem;
            }

            .timer-controls, .timer-presets {
                flex-wrap: wrap;
            }

            .form-row {
                flex-direction: column;
                gap: 0;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <div class="header-content">
                <div class="logo">
                    <i class="fas fa-tomato"></i>
                    <h1>Pomodoro Focus</h1>
                </div>
                <div class="nav-tabs">
                    <div class="tab active" data-tab="pomodoro">
                        <i class="fas fa-clock"></i> –¢–∞–π–º–µ—Ä
                    </div>
                    <div class="tab" data-tab="tasks">
                        <i class="fas fa-tasks"></i> –ó–∞–¥–∞—á–∏
                    </div>
                    <div class="tab" data-tab="stats">
                        <i class="fas fa-chart-bar"></i> –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞
                    </div>
                    <div class="tab" data-tab="achievements">
                        <i class="fas fa-trophy"></i> –î–æ—Å—Ç–∏–∂–µ–Ω–∏—è
                    </div>
                    <div class="tab" data-tab="settings">
                        <i class="fas fa-cog"></i> –ù–∞—Å—Ç—Ä–æ–π–∫–∏
                    </div>
                </div>
            </div>
        </header>

        <!-- Pomodoro Timer Tab -->
        <div class="tab-content active" id="pomodoro">
            <div class="timer-container">
                <h2>Pomodoro –¢–∞–π–º–µ—Ä</h2>
                <div class="timer-display" id="timer">25:00</div>
                <div class="timer-status" id="timer-status">–ì–æ—Ç–æ–≤ –∫ —Ä–∞–±–æ—Ç–µ</div>

                <div class="timer-presets">
                    <button class="preset-btn active" data-minutes="25">25 –º–∏–Ω</button>
                    <button class="preset-btn" data-minutes="50">50 –º–∏–Ω</button>
                    <button class="preset-btn" data-minutes="15">–ö–æ—Ä–æ—Ç–∫–∏–π –ø–µ—Ä–µ—Ä—ã–≤</button>
                    <button class="preset-btn" data-minutes="30">–î–ª–∏–Ω–Ω—ã–π –ø–µ—Ä–µ—Ä—ã–≤</button>
                </div>

                <div class="timer-controls">
                    <button class="btn btn-primary" id="start-timer">
                        <i class="fas fa-play"></i> –°—Ç–∞—Ä—Ç
                    </button>
                    <button class="btn btn-secondary" id="pause-timer" disabled>
                        <i class="fas fa-pause"></i> –ü–∞—É–∑–∞
                    </button>
                    <button class="btn btn-light" id="stop-timer" disabled>
                        <i class="fas fa-stop"></i> –°—Ç–æ–ø
                    </button>
                </div>

                <div class="current-task" id="current-task">
                    <h3>–¢–µ–∫—É—â–∞—è –∑–∞–¥–∞—á–∞: <span id="current-task-name">–ù–µ –≤—ã–±—Ä–∞–Ω–∞</span></h3>
                    <button class="btn btn-light" id="select-task-btn">
                        <i class="fas fa-list"></i> –í—ã–±—Ä–∞—Ç—å –∑–∞–¥–∞—á—É
                    </button>
                </div>
            </div>
        </div>

        <!-- Tasks Tab -->
        <div class="tab-content" id="tasks">
            <h2>–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∑–∞–¥–∞—á–∞–º–∏</h2>

            <div class="task-form">
                <h3>–î–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—É—é –∑–∞–¥–∞—á—É</h3>
                <div class="form-group">
                    <label for="task-title">–ù–∞–∑–≤–∞–Ω–∏–µ –∑–∞–¥–∞—á–∏</label>
                    <input type="text" id="task-title" class="form-control" placeholder="–í–≤–µ–¥–∏—Ç–µ –Ω–∞–∑–≤–∞–Ω–∏–µ –∑–∞–¥–∞—á–∏">
                </div>
                <div class="form-group">
                    <label for="task-description">–û–ø–∏—Å–∞–Ω–∏–µ</label>
                    <textarea id="task-description" class="form-control" rows="3" placeholder="–í–≤–µ–¥–∏—Ç–µ –æ–ø–∏—Å–∞–Ω–∏–µ –∑–∞–¥–∞—á–∏"></textarea>
                </div>
                <div class="form-row">
                    <div class="form-group">
                        <label for="task-category">–ö–∞—Ç–µ–≥–æ—Ä–∏—è</label>
                        <select id="task-category" class="form-control">
                            <option value="work">–†–∞–±–æ—Ç–∞</option>
                            <option value="study">–£—á–µ–±–∞</option>
                            <option value="personal">–õ–∏—á–Ω–æ–µ</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="task-priority">–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç</label>
                        <select id="task-priority" class="form-control">
                            <option value="high">–í—ã—Å–æ–∫–∏–π</option>
                            <option value="medium" selected>–°—Ä–µ–¥–Ω–∏–π</option>
                            <option value="low">–ù–∏–∑–∫–∏–π</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="task-tomatoes">–û—Ü–µ–Ω–∫–∞ –≤ –ø–æ–º–∏–¥–æ—Ä–∞—Ö</label>
                        <input type="number" id="task-tomatoes" class="form-control" min="1" max="10" value="1">
                    </div>
                </div>
                <button class="btn btn-primary" id="add-task">
                    <i class="fas fa-plus"></i> –î–æ–±–∞–≤–∏—Ç—å –∑–∞–¥–∞—á—É
                </button>
            </div>

            <div class="task-filters">
                <h3>–§–∏–ª—å—Ç—Ä—ã</h3>
                <div class="form-row">
                    <div class="form-group">
                        <select id="filter-category" class="form-control">
                            <option value="all">–í—Å–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏</option>
                            <option value="work">–†–∞–±–æ—Ç–∞</option>
                            <option value="study">–£—á–µ–±–∞</option>
                            <option value="personal">–õ–∏—á–Ω–æ–µ</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <select id="filter-priority" class="form-control">
                            <option value="all">–í—Å–µ –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç—ã</option>
                            <option value="high">–í—ã—Å–æ–∫–∏–π</option>
                            <option value="medium">–°—Ä–µ–¥–Ω–∏–π</option>
                            <option value="low">–ù–∏–∑–∫–∏–π</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <select id="filter-status" class="form-control">
                            <option value="all">–í—Å–µ –∑–∞–¥–∞—á–∏</option>
                            <option value="active">–ê–∫—Ç–∏–≤–Ω—ã–µ</option>
                            <option value="completed">–ó–∞–≤–µ—Ä—à–µ–Ω–Ω—ã–µ</option>
                        </select>
                    </div>
                </div>
            </div>

            <div class="task-list" id="task-list">
                <!-- Tasks will be dynamically added here -->
            </div>
        </div>

        <!-- Statistics Tab -->
        <div class="tab-content" id="stats">
            <h2>–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø—Ä–æ–¥—É–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏</h2>

            <div class="stats-grid">
                <div class="stat-card">
                    <i class="fas fa-tomato" style="font-size: 2rem; color: var(--primary);"></i>
                    <div class="stat-value" id="today-pomodoros">0</div>
                    <div class="stat-label">–ü–æ–º–∏–¥–æ—Ä–æ–≤ —Å–µ–≥–æ–¥–Ω—è</div>
                </div>
                <div class="stat-card">
                    <i class="fas fa-clock" style="font-size: 2rem; color: var(--secondary);"></i>
                    <div class="stat-value" id="today-focus">0</div>
                    <div class="stat-label">–ú–∏–Ω—É—Ç —Ñ–æ–∫—É—Å–∞ —Å–µ–≥–æ–¥–Ω—è</div>
                </div>
                <div class="stat-card">
                    <i class="fas fa-check-circle" style="font-size: 2rem; color: var(--success);"></i>
                    <div class="stat-value" id="completed-tasks">0</div>
                    <div class="stat-label">–ó–∞–≤–µ—Ä—à–µ–Ω–Ω—ã—Ö –∑–∞–¥–∞—á</div>
                </div>
                <div class="stat-card">
                    <i class="fas fa-fire" style="font-size: 2rem; color: var(--warning);"></i>
                    <div class="stat-value" id="productivity-score">0%</div>
                    <div class="stat-label">–ü—Ä–æ–¥—É–∫—Ç–∏–≤–Ω–æ—Å—Ç—å</div>
                </div>
            </div>

            <div class="chart-container">
                <h3>–ê–∫—Ç–∏–≤–Ω–æ—Å—Ç—å –∑–∞ –Ω–µ–¥–µ–ª—é</h3>
                <canvas id="weekly-chart" height="100"></canvas>
            </div>

            <div class="chart-container">
                <h3>–†–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º</h3>
                <canvas id="category-chart" height="100"></canvas>
            </div>
        </div>

        <!-- Achievements Tab -->
        <div class="tab-content" id="achievements">
            <h2>–î–æ—Å—Ç–∏–∂–µ–Ω–∏—è –∏ –Ω–∞–≥—Ä–∞–¥—ã</h2>

            <div class="achievements-grid" id="achievements-grid">
                <!-- Achievements will be dynamically added here -->
            </div>
        </div>

        <!-- Settings Tab -->
        <div class="tab-content" id="settings">
            <h2>–ù–∞—Å—Ç—Ä–æ–π–∫–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è</h2>

            <div class="settings-group">
                <h3>–ù–∞—Å—Ç—Ä–æ–π–∫–∏ Pomodoro</h3>
                <div class="setting-item">
                    <div>
                        <strong>–†–∞–±–æ—á–∏–π –∏–Ω—Ç–µ—Ä–≤–∞–ª</strong>
                        <p>–î–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å —Ä–∞–±–æ—á–µ–π —Å–µ—Å—Å–∏–∏</p>
                    </div>
                    <input type="number" id="work-interval" class="form-control" min="5" max="60" value="25" style="width: 80px;">
                </div>
                <div class="setting-item">
                    <div>
                        <strong>–ö–æ—Ä–æ—Ç–∫–∏–π –ø–µ—Ä–µ—Ä—ã–≤</strong>
                        <p>–î–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –∫–æ—Ä–æ—Ç–∫–æ–≥–æ –ø–µ—Ä–µ—Ä—ã–≤–∞</p>
                    </div>
                    <input type="number" id="short-break" class="form-control" min="1" max="30" value="5" style="width: 80px;">
                </div>
                <div class="setting-item">
                    <div>
                        <strong>–î–ª–∏–Ω–Ω—ã–π –ø–µ—Ä–µ—Ä—ã–≤</strong>
                        <p>–î–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –¥–ª–∏–Ω–Ω–æ–≥–æ –ø–µ—Ä–µ—Ä—ã–≤–∞</p>
                    </div>
                    <input type="number" id="long-break" class="form-control" min="5" max="60" value="15" style="width: 80px;">
                </div>
            </div>

            <div class="settings-group">
                <h3>–£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è</h3>
                <div class="setting-item">
                    <div>
                        <strong>–ó–≤—É–∫–æ–≤—ã–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è</strong>
                        <p>–í–æ—Å–ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç—å –∑–≤—É–∫ –ø–æ –æ–∫–æ–Ω—á–∞–Ω–∏–∏ —Å–µ—Å—Å–∏–∏</p>
                    </div>
                    <label class="toggle-switch">
                        <input type="checkbox" id="sound-notifications" checked>
                        <span class="slider"></span>
                    </label>
                </div>
                <div class="setting-item">
                    <div>
                        <strong>–ë—Ä–∞—É–∑–µ—Ä–Ω—ã–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è</strong>
                        <p>–ü–æ–∫–∞–∑—ã–≤–∞—Ç—å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –≤ –±—Ä–∞—É–∑–µ—Ä–µ</p>
                    </div>
                    <label class="toggle-switch">
                        <input type="checkbox" id="browser-notifications">
                        <span class="slider"></span>
                    </label>
                </div>
            </div>

            <div class="settings-group">
                <h3>–í–Ω–µ—à–Ω–∏–π –≤–∏–¥</h3>
                <div class="setting-item">
                    <div>
                        <strong>–¢–µ–º–Ω–∞—è —Ç–µ–º–∞</strong>
                        <p>–ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –º–µ–∂–¥—É —Å–≤–µ—Ç–ª–æ–π –∏ —Ç–µ–º–Ω–æ–π —Ç–µ–º–æ–π</p>
                    </div>
                    <label class="toggle-switch">
                        <input type="checkbox" id="dark-theme">
                        <span class="slider"></span>
                    </label>
                </div>
            </div>

            <button class="btn btn-primary" id="save-settings">
                <i class="fas fa-save"></i> –°–æ—Ö—Ä–∞–Ω–∏—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
            </button>
        </div>
    </div>

    <!-- Notification -->
    <div class="notification" id="notification">
        <i class="fas fa-check-circle"></i>
        <span id="notification-text">–£–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ</span>
    </div>

    <script>
        // –û—Å–Ω–æ–≤–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
        let timerInterval;
        let timerTime = 25 * 60; // 25 –º–∏–Ω—É—Ç –≤ —Å–µ–∫—É–Ω–¥–∞—Ö
        let timerRunning = false;
        let timerPaused = false;
        let currentTimerType = 'work'; // work, shortBreak, longBreak
        let tasks = JSON.parse(localStorage.getItem('pomodoroTasks')) || [];
        let settings = JSON.parse(localStorage.getItem('pomodoroSettings')) || {
            workInterval: 25,
            shortBreak: 5,
            longBreak: 15,
            soundNotifications: true,
            browserNotifications: false,
            darkTheme: false
        };
        let statistics = JSON.parse(localStorage.getItem('pomodoroStatistics')) || {
            todayPomodoros: 0,
            todayFocus: 0,
            completedTasks: 0,
            weeklyData: [0, 0, 0, 0, 0, 0, 0],
            categoryData: { work: 0, study: 0, personal: 0 }
        };
        let currentTaskId = null;

        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
        document.addEventListener('DOMContentLoaded', function() {
            initializeTabs();
            initializeTimer();
            initializeTasks();
            initializeStatistics();
            initializeAchievements();
            initializeSettings();
            loadData();
        });

        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –≤–∫–ª–∞–¥–æ–∫
        function initializeTabs() {
            const tabs = document.querySelectorAll('.tab');
            tabs.forEach(tab => {
                tab.addEventListener('click', function() {
                    const tabId = this.getAttribute('data-tab');

                    // –£–±–∏—Ä–∞–µ–º –∞–∫—Ç–∏–≤–Ω—ã–π –∫–ª–∞—Å—Å —Å–æ –≤—Å–µ—Ö –≤–∫–ª–∞–¥–æ–∫ –∏ –∫–æ–Ω—Ç–µ–Ω—Ç–∞
                    tabs.forEach(t => t.classList.remove('active'));
                    document.querySelectorAll('.tab-content').forEach(content => {
                        content.classList.remove('active');
                    });

                    // –î–æ–±–∞–≤–ª—è–µ–º –∞–∫—Ç–∏–≤–Ω—ã–π –∫–ª–∞—Å—Å –∫ –≤—ã–±—Ä–∞–Ω–Ω–æ–π –≤–∫–ª–∞–¥–∫–µ –∏ –∫–æ–Ω—Ç–µ–Ω—Ç—É
                    this.classList.add('active');
                    document.getElementById(tabId).classList.add('active');
                });
            });
        }

        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è —Ç–∞–π–º–µ—Ä–∞
        function initializeTimer() {
            const startBtn = document.getElementById('start-timer');
            const pauseBtn = document.getElementById('pause-timer');
            const stopBtn = document.getElementById('stop-timer');
            const presetBtns = document.querySelectorAll('.preset-btn');
            const selectTaskBtn = document.getElementById('select-task-btn');

            startBtn.addEventListener('click', startTimer);
            pauseBtn.addEventListener('click', pauseTimer);
            stopBtn.addEventListener('click', stopTimer);

            presetBtns.forEach(btn => {
                btn.addEventListener('click', function() {
                    presetBtns.forEach(b => b.classList.remove('active'));
                    this.classList.add('active');

                    const minutes = parseInt(this.getAttribute('data-minutes'));
                    setTimer(minutes * 60);

                    // –û–ø—Ä–µ–¥–µ–ª—è–µ–º —Ç–∏–ø —Ç–∞–π–º–µ—Ä–∞ –Ω–∞ –æ—Å–Ω–æ–≤–µ –≤—ã–±—Ä–∞–Ω–Ω–æ–≥–æ –ø—Ä–µ—Å–µ—Ç–∞
                    if (minutes === 25 || minutes === 50) {
                        currentTimerType = 'work';
                        document.getElementById('timer-status').textContent = '–ì–æ—Ç–æ–≤ –∫ —Ä–∞–±–æ—Ç–µ';
                    } else {
                        currentTimerType = minutes === 15 ? 'longBreak' : 'shortBreak';
                        document.getElementById('timer-status').textContent = '–í—Ä–µ–º—è –ø–µ—Ä–µ—Ä—ã–≤–∞';
                    }
                });
            });

            selectTaskBtn.addEventListener('click', function() {
                // –ü–µ—Ä–µ–∫–ª—é—á–∞–µ–º—Å—è –Ω–∞ –≤–∫–ª–∞–¥–∫—É –∑–∞–¥–∞—á
                document.querySelector('.tab[data-tab="tasks"]').click();
            });

            updateTimerDisplay();
        }

        // –£—Å—Ç–∞–Ω–æ–≤–∫–∞ —Ç–∞–π–º–µ—Ä–∞
        function setTimer(seconds) {
            timerTime = seconds;
            updateTimerDisplay();
        }

        // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è —Ç–∞–π–º–µ—Ä–∞
        function updateTimerDisplay() {
            const minutes = Math.floor(timerTime / 60);
            const seconds = timerTime % 60;
            document.getElementById('timer').textContent =
                `${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}`;
        }

        // –ó–∞–ø—É—Å–∫ —Ç–∞–π–º–µ—Ä–∞
        function startTimer() {
            if (timerRunning && timerPaused) {
                // –í–æ–∑–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Ç–∞–π–º–µ—Ä–∞
                timerPaused = false;
                document.getElementById('pause-timer').innerHTML = '<i class="fas fa-pause"></i> –ü–∞—É–∑–∞';
            } else if (!timerRunning) {
                // –ó–∞–ø—É—Å–∫ –Ω–æ–≤–æ–≥–æ —Ç–∞–π–º–µ—Ä–∞
                timerRunning = true;
                document.getElementById('start-timer').disabled = true;
                document.getElementById('pause-timer').disabled = false;
                document.getElementById('stop-timer').disabled = false;
            }

            timerInterval = setInterval(function() {
                if (timerTime > 0) {
                    timerTime--;
                    updateTimerDisplay();
                } else {
                    // –¢–∞–π–º–µ—Ä –∑–∞–≤–µ—Ä—à–µ–Ω
                    clearInterval(timerInterval);
                    timerRunning = false;
                    document.getElementById('start-timer').disabled = false;
                    document.getElementById('pause-timer').disabled = true;

                    // –û–±–Ω–æ–≤–ª—è–µ–º —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É –¥–ª—è —Ä–∞–±–æ—á–∏—Ö —Å–µ—Å—Å–∏–π
                    if (currentTimerType === 'work') {
                        statistics.todayPomodoros++;
                        statistics.todayFocus += getCurrentTimerMinutes();
                        saveStatistics();
                        updateStatisticsDisplay();

                        // –ï—Å–ª–∏ –µ—Å—Ç—å —Ç–µ–∫—É—â–∞—è –∑–∞–¥–∞—á–∞, —É–º–µ–Ω—å—à–∞–µ–º –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–æ–º–∏–¥–æ—Ä–æ–≤
                        if (currentTaskId !== null) {
                            const taskIndex = tasks.findIndex(task => task.id === currentTaskId);
                            if (taskIndex !== -1 && tasks[taskIndex].tomatoes > 0) {
                                tasks[taskIndex].tomatoes--;
                                if (tasks[taskIndex].tomatoes === 0) {
                                    tasks[taskIndex].completed = true;
                                    statistics.completedTasks++;
                                    showNotification('–ó–∞–¥–∞—á–∞ "' + tasks[taskIndex].title + '" –∑–∞–≤–µ—Ä—à–µ–Ω–∞!');
                                }
                                saveTasks();
                                renderTasks();
                                updateStatisticsDisplay();
                            }
                        }
                    }

                    // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ
                    showNotification(
                        currentTimerType === 'work'
                            ? '–†–∞–±–æ—á–∞—è —Å–µ—Å—Å–∏—è –∑–∞–≤–µ—Ä—à–µ–Ω–∞! –í—Ä–µ–º—è –ø–µ—Ä–µ—Ä—ã–≤–∞.'
                            : '–ü–µ—Ä–µ—Ä—ã–≤ –∑–∞–≤–µ—Ä—à–µ–Ω! –í—Ä–µ–º—è –≤–æ–∑–≤—Ä–∞—â–∞—Ç—å—Å—è –∫ —Ä–∞–±–æ—Ç–µ.'
                    );

                    // –í–æ—Å–ø—Ä–æ–∏–∑–≤–æ–¥–∏–º –∑–≤—É–∫, –µ—Å–ª–∏ –≤–∫–ª—é—á–µ–Ω–æ
                    if (settings.soundNotifications) {
                        playNotificationSound();
                    }

                    // –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –ø–µ—Ä–µ—Ö–æ–¥ –∫ —Å–ª–µ–¥—É—é—â–µ–º—É —Ç–∞–π–º–µ—Ä—É
                    if (currentTimerType === 'work') {
                        // –ü–æ—Å–ª–µ —Ä–∞–±–æ—Ç—ã - –∫–æ—Ä–æ—Ç–∫–∏–π –∏–ª–∏ –¥–ª–∏–Ω–Ω—ã–π –ø–µ—Ä–µ—Ä—ã–≤
                        const breakType = statistics.todayPomodoros % 4 === 0 ? 'longBreak' : 'shortBreak';
                        const breakMinutes = breakType === 'longBreak' ? settings.longBreak : settings.shortBreak;

                        setTimer(breakMinutes * 60);
                        currentTimerType = breakType;
                        document.getElementById('timer-status').textContent = '–í—Ä–µ–º—è –ø–µ—Ä–µ—Ä—ã–≤–∞';
                    } else {
                        // –ü–æ—Å–ª–µ –ø–µ—Ä–µ—Ä—ã–≤–∞ - —Ä–∞–±–æ—á–∞—è —Å–µ—Å—Å–∏—è
                        setTimer(settings.workInterval * 60);
                        currentTimerType = 'work';
                        document.getElementById('timer-status').textContent = '–ì–æ—Ç–æ–≤ –∫ —Ä–∞–±–æ—Ç–µ';
                    }
                }
            }, 1000);
        }

        // –ü–∞—É–∑–∞ —Ç–∞–π–º–µ—Ä–∞
        function pauseTimer() {
            if (timerRunning && !timerPaused) {
                clearInterval(timerInterval);
                timerPaused = true;
                document.getElementById('pause-timer').innerHTML = '<i class="fas fa-play"></i> –ü—Ä–æ–¥–æ–ª–∂–∏—Ç—å';
            } else if (timerRunning && timerPaused) {
                startTimer();
            }
        }

        // –û—Å—Ç–∞–Ω–æ–≤–∫–∞ —Ç–∞–π–º–µ—Ä–∞
        function stopTimer() {
            clearInterval(timerInterval);
            timerRunning = false;
            timerPaused = false;
            setTimer(settings.workInterval * 60);
            currentTimerType = 'work';

            document.getElementById('start-timer').disabled = false;
            document.getElementById('pause-timer').disabled = true;
            document.getElementById('stop-timer').disabled = true;
            document.getElementById('pause-timer').innerHTML = '<i class="fas fa-pause"></i> –ü–∞—É–∑–∞';
            document.getElementById('timer-status').textContent = '–¢–∞–π–º–µ—Ä –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω';
        }

        // –ü–æ–ª—É—á–∏—Ç—å —Ç–µ–∫—É—â–µ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –º–∏–Ω—É—Ç —Ç–∞–π–º–µ—Ä–∞
        function getCurrentTimerMinutes() {
            const presetBtn = document.querySelector('.preset-btn.active');
            return presetBtn ? parseInt(presetBtn.getAttribute('data-minutes')) : settings.workInterval;
        }

        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –∑–∞–¥–∞—á
        function initializeTasks() {
            const addTaskBtn = document.getElementById('add-task');
            const filterCategory = document.getElementById('filter-category');
            const filterPriority = document.getElementById('filter-priority');
            const filterStatus = document.getElementById('filter-status');

            addTaskBtn.addEventListener('click', addTask);
            filterCategory.addEventListener('change', renderTasks);
            filterPriority.addEventListener('change', renderTasks);
            filterStatus.addEventListener('change', renderTasks);

            renderTasks();
        }

        // –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤–æ–π –∑–∞–¥–∞—á–∏
        function addTask() {
            const title = document.getElementById('task-title').value.trim();
            const description = document.getElementById('task-description').value.trim();
            const category = document.getElementById('task-category').value;
            const priority = document.getElementById('task-priority').value;
            const tomatoes = parseInt(document.getElementById('task-tomatoes').value);

            if (!title) {
                showNotification('–í–≤–µ–¥–∏—Ç–µ –Ω–∞–∑–≤–∞–Ω–∏–µ –∑–∞–¥–∞—á–∏', 'error');
                return;
            }

            const newTask = {
                id: Date.now(),
                title,
                description,
                category,
                priority,
                tomatoes,
                completed: false,
                createdAt: new Date().toISOString()
            };

            tasks.push(newTask);
            saveTasks();
            renderTasks();

            // –û—á–∏—â–∞–µ–º —Ñ–æ—Ä–º—É
            document.getElementById('task-title').value = '';
            document.getElementById('task-description').value = '';
            document.getElementById('task-tomatoes').value = '1';

            showNotification('–ó–∞–¥–∞—á–∞ –¥–æ–±–∞–≤–ª–µ–Ω–∞');
        }

        // –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –∑–∞–¥–∞—á –≤ localStorage
        function saveTasks() {
            localStorage.setItem('pomodoroTasks', JSON.stringify(tasks));
        }

        // –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –∑–∞–¥–∞—á
        function renderTasks() {
            const taskList = document.getElementById('task-list');
            const filterCategory = document.getElementById('filter-category').value;
            const filterPriority = document.getElementById('filter-priority').value;
            const filterStatus = document.getElementById('filter-status').value;

            // –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –∑–∞–¥–∞—á
            let filteredTasks = tasks.filter(task => {
                if (filterCategory !== 'all' && task.category !== filterCategory) return false;
                if (filterPriority !== 'all' && task.priority !== filterPriority) return false;
                if (filterStatus === 'active' && task.completed) return false;
                if (filterStatus === 'completed' && !task.completed) return false;
                return true;
            });

            // –°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞: —Å–Ω–∞—á–∞–ª–∞ –Ω–µ–∑–∞–≤–µ—Ä—à–µ–Ω–Ω—ã–µ, –∑–∞—Ç–µ–º –ø–æ –¥–∞—Ç–µ —Å–æ–∑–¥–∞–Ω–∏—è
            filteredTasks.sort((a, b) => {
                if (a.completed !== b.completed) return a.completed ? 1 : -1;
                return new Date(b.createdAt) - new Date(a.createdAt);
            });

            if (filteredTasks.length === 0) {
                taskList.innerHTML = '<p>–ó–∞–¥–∞—á–∏ –Ω–µ –Ω–∞–π–¥–µ–Ω—ã</p>';
                return;
            }

            taskList.innerHTML = '';

            filteredTasks.forEach(task => {
                const taskItem = document.createElement('div');
                taskItem.className = `task-item ${task.completed ? 'completed' : ''}`;

                // –û–ø—Ä–µ–¥–µ–ª—è–µ–º —Ü–≤–µ—Ç –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–∞
                let priorityColor = '#95a5a6';
                let priorityText = '–°—Ä–µ–¥–Ω–∏–π';
                if (task.priority === 'high') {
                    priorityColor = '#e74c3c';
                    priorityText = '–í—ã—Å–æ–∫–∏–π';
                } else if (task.priority === 'low') {
                    priorityColor = '#2ecc71';
                    priorityText = '–ù–∏–∑–∫–∏–π';
                }

                // –û–ø—Ä–µ–¥–µ–ª—è–µ–º —Ç–µ–∫—Å—Ç –∫–∞—Ç–µ–≥–æ—Ä–∏–∏
                let categoryText = '–õ–∏—á–Ω–æ–µ';
                if (task.category === 'work') categoryText = '–†–∞–±–æ—Ç–∞';
                else if (task.category === 'study') categoryText = '–£—á–µ–±–∞';

                taskItem.innerHTML = `
                    <div class="task-info">
                        <h3 class="task-title">${task.title}</h3>
                        <p class="task-description">${task.description}</p>
                        <div class="task-meta">
                            <span class="task-badge badge-category">${categoryText}</span>
                            <span class="task-badge badge-priority">${priorityText}</span>
                            <span class="task-badge badge-tomatoes">${task.tomatoes} üçÖ</span>
                        </div>
                    </div>
                    <div class="task-actions">
                        <button class="btn-select-task" data-id="${task.id}" title="–í—ã–±—Ä–∞—Ç—å –¥–ª—è —Ç–∞–π–º–µ—Ä–∞">
                            <i class="fas fa-play-circle"></i>
                        </button>
                        <button class="btn-complete-task" data-id="${task.id}" title="${task.completed ? '–í–µ—Ä–Ω—É—Ç—å –≤ —Ä–∞–±–æ—Ç—É' : '–û—Ç–º–µ—Ç–∏—Ç—å –≤—ã–ø–æ–ª–Ω–µ–Ω–Ω–æ–π'}">
                            <i class="fas ${task.completed ? 'fa-undo' : 'fa-check'}"></i>
                        </button>
                        <button class="btn-edit-task" data-id="${task.id}" title="–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å">
                            <i class="fas fa-edit"></i>
                        </button>
                        <button class="btn-delete-task" data-id="${task.id}" title="–£–¥–∞–ª–∏—Ç—å">
                            <i class="fas fa-trash"></i>
                        </button>
                    </div>
                `;

                taskList.appendChild(taskItem);
            });

            // –î–æ–±–∞–≤–ª—è–µ–º –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ —Å–æ–±—ã—Ç–∏–π –¥–ª—è –∫–Ω–æ–ø–æ–∫ –∑–∞–¥–∞—á
            document.querySelectorAll('.btn-select-task').forEach(btn => {
                btn.addEventListener('click', function() {
                    const taskId = parseInt(this.getAttribute('data-id'));
                    selectTaskForTimer(taskId);
                });
            });

            document.querySelectorAll('.btn-complete-task').forEach(btn => {
                btn.addEventListener('click', function() {
                    const taskId = parseInt(this.getAttribute('data-id'));
                    toggleTaskCompletion(taskId);
                });
            });

            document.querySelectorAll('.btn-edit-task').forEach(btn => {
                btn.addEventListener('click', function() {
                    const taskId = parseInt(this.getAttribute('data-id'));
                    editTask(taskId);
                });
            });

            document.querySelectorAll('.btn-delete-task').forEach(btn => {
                btn.addEventListener('click', function() {
                    const taskId = parseInt(this.getAttribute('data-id'));
                    deleteTask(taskId);
                });
            });
        }

        // –í—ã–±–æ—Ä –∑–∞–¥–∞—á–∏ –¥–ª—è —Ç–∞–π–º–µ—Ä–∞
        function selectTaskForTimer(taskId) {
            const task = tasks.find(t => t.id === taskId);
            if (task) {
                currentTaskId = taskId;
                document.getElementById('current-task-name').textContent = task.title;
                showNotification(`–ó–∞–¥–∞—á–∞ "${task.title}" –≤—ã–±—Ä–∞–Ω–∞ –¥–ª—è —Ç–∞–π–º–µ—Ä–∞`);

                // –ü–µ—Ä–µ–∫–ª—é—á–∞–µ–º—Å—è –Ω–∞ –≤–∫–ª–∞–¥–∫—É —Ç–∞–π–º–µ—Ä–∞
                document.querySelector('.tab[data-tab="pomodoro"]').click();
            }
        }

        // –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∑–∞–¥–∞—á–∏
        function toggleTaskCompletion(taskId) {
            const taskIndex = tasks.findIndex(task => task.id === taskId);
            if (taskIndex !== -1) {
                tasks[taskIndex].completed = !tasks[taskIndex].completed;

                if (tasks[taskIndex].completed) {
                    statistics.completedTasks++;
                } else {
                    statistics.completedTasks--;
                }

                saveTasks();
                saveStatistics();
                renderTasks();
                updateStatisticsDisplay();

                showNotification(
                    tasks[taskIndex].completed
                        ? `–ó–∞–¥–∞—á–∞ "${tasks[taskIndex].title}" –∑–∞–≤–µ—Ä—à–µ–Ω–∞!`
                        : `–ó–∞–¥–∞—á–∞ "${tasks[taskIndex].title}" –≤–æ–∑–≤—Ä–∞—â–µ–Ω–∞ –≤ —Ä–∞–±–æ—Ç—É`
                );
            }
        }

        // –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∑–∞–¥–∞—á–∏
        function editTask(taskId) {
            const task = tasks.find(t => t.id === taskId);
            if (task) {
                // –ó–∞–ø–æ–ª–Ω—è–µ–º —Ñ–æ—Ä–º—É –∑–Ω–∞—á–µ–Ω–∏—è–º–∏ –∑–∞–¥–∞—á–∏
                document.getElementById('task-title').value = task.title;
                document.getElementById('task-description').value = task.description;
                document.getElementById('task-category').value = task.category;
                document.getElementById('task-priority').value = task.priority;
                document.getElementById('task-tomatoes').value = task.tomatoes;

                // –£–¥–∞–ª—è–µ–º –∑–∞–¥–∞—á—É (–±—É–¥–µ—Ç –ø–µ—Ä–µ—Å–æ–∑–¥–∞–Ω–∞ –ø—Ä–∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–∏)
                deleteTask(taskId);

                // –ü—Ä–æ–∫—Ä—É—á–∏–≤–∞–µ–º –∫ —Ñ–æ—Ä–º–µ
                document.querySelector('.task-form').scrollIntoView({ behavior: 'smooth' });

                showNotification('–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∑–∞–¥–∞—á–∏');
            }
        }

        // –£–¥–∞–ª–µ–Ω–∏–µ –∑–∞–¥–∞—á–∏
        function deleteTask(taskId) {
            if (confirm('–í—ã —É–≤–µ—Ä–µ–Ω—ã, —á—Ç–æ —Ö–æ—Ç–∏—Ç–µ —É–¥–∞–ª–∏—Ç—å —ç—Ç—É –∑–∞–¥–∞—á—É?')) {
                tasks = tasks.filter(task => task.id !== taskId);
                saveTasks();
                renderTasks();
                showNotification('–ó–∞–¥–∞—á–∞ —É–¥–∞–ª–µ–Ω–∞');

                // –ï—Å–ª–∏ —É–¥–∞–ª—è–µ–º–∞—è –∑–∞–¥–∞—á–∞ –±—ã–ª–∞ —Ç–µ–∫—É—â–µ–π, —Å–±—Ä–∞—Å—ã–≤–∞–µ–º —Ç–µ–∫—É—â—É—é –∑–∞–¥–∞—á—É
                if (currentTaskId === taskId) {
                    currentTaskId = null;
                    document.getElementById('current-task-name').textContent = '–ù–µ –≤—ã–±—Ä–∞–Ω–∞';
                }
            }
        }

        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏
        function initializeStatistics() {
            updateStatisticsDisplay();

            // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –≥—Ä–∞—Ñ–∏–∫–æ–≤ (–∑–∞–≥–ª—É—à–∫–∏)
            // –í —Ä–µ–∞–ª—å–Ω–æ–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏ –∑–¥–µ—Å—å –±—É–¥–µ—Ç –∫–æ–¥ –¥–ª—è –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ Chart.js
        }

        // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏
        function updateStatisticsDisplay() {
            document.getElementById('today-pomodoros').textContent = statistics.todayPomodoros;
            document.getElementById('today-focus').textContent = statistics.todayFocus;
            document.getElementById('completed-tasks').textContent = statistics.completedTasks;

            // –†–∞—Å—á–µ—Ç –ø—Ä–æ–¥—É–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ (–ø—Ä–æ—Å—Ç–∞—è —Ñ–æ—Ä–º—É–ª–∞)
            const productivity = Math.min(100, Math.round((statistics.todayPomodoros / 8) * 100));
            document.getElementById('productivity-score').textContent = `${productivity}%`;
        }

        // –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ –≤ localStorage
        function saveStatistics() {
            localStorage.setItem('pomodoroStatistics', JSON.stringify(statistics));
        }

        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–π
        function initializeAchievements() {
            const achievements = [
                { id: 1, title: '–ü–µ—Ä–≤—ã–π –ø–æ–º–∏–¥–æ—Ä', description: '–ó–∞–≤–µ—Ä—à–∏—Ç–µ –ø–µ—Ä–≤—É—é Pomodoro —Å–µ—Å—Å–∏—é', icon: 'fa-seedling', unlocked: statistics.todayPomodoros > 0 },
                { id: 2, title: '–§–æ–∫—É—Å-–ø–æ–∫—É—Å', description: '–ó–∞–≤–µ—Ä—à–∏—Ç–µ 5 Pomodoro —Å–µ—Å—Å–∏–π –∑–∞ –¥–µ–Ω—å', icon: 'fa-bolt', unlocked: statistics.todayPomodoros >= 5 },
                { id: 3, title: '–ú–∞—Å—Ç–µ—Ä –ø—Ä–æ–¥—É–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏', description: '–ó–∞–≤–µ—Ä—à–∏—Ç–µ 20 Pomodoro —Å–µ—Å—Å–∏–π', icon: 'fa-crown', unlocked: statistics.todayPomodoros >= 20 },
                { id: 4, title: '–ó–∞–¥–∞—á–Ω–∏–∫', description: '–°–æ–∑–¥–∞–π—Ç–µ 10 –∑–∞–¥–∞—á', icon: 'fa-tasks', unlocked: tasks.length >= 10 },
                { id: 5, title: '–ó–∞–≤–µ—Ä—à–∏—Ç–µ–ª—å', description: '–í—ã–ø–æ–ª–Ω–∏—Ç–µ 5 –∑–∞–¥–∞—á', icon: 'fa-flag-checkered', unlocked: statistics.completedTasks >= 5 },
                { id: 6, title: '–ù–µ–ø—Ä–µ—Ä—ã–≤–Ω—ã–π —Ä–æ—Å—Ç', description: '–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ 7 –¥–Ω–µ–π –ø–æ–¥—Ä—è–¥', icon: 'fa-chart-line', unlocked: false }
            ];

            const achievementsGrid = document.getElementById('achievements-grid');
            achievementsGrid.innerHTML = '';

            achievements.forEach(achievement => {
                const achievementCard = document.createElement('div');
                achievementCard.className = `achievement-card ${achievement.unlocked ? '' : 'locked'}`;

                achievementCard.innerHTML = `
                    <div class="achievement-icon">
                        <i class="fas ${achievement.icon}"></i>
                    </div>
                    <div class="achievement-title">${achievement.title}</div>
                    <div class="achievement-desc">${achievement.description}</div>
                `;

                achievementsGrid.appendChild(achievementCard);
            });
        }

        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –Ω–∞—Å—Ç—Ä–æ–µ–∫
        function initializeSettings() {
            // –ó–∞–≥—Ä—É–∂–∞–µ–º –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –≤ —Ñ–æ—Ä–º—É
            document.getElementById('work-interval').value = settings.workInterval;
            document.getElementById('short-break').value = settings.shortBreak;
            document.getElementById('long-break').value = settings.longBreak;
            document.getElementById('sound-notifications').checked = settings.soundNotifications;
            document.getElementById('browser-notifications').checked = settings.browserNotifications;
            document.getElementById('dark-theme').checked = settings.darkTheme;

            // –û–±—Ä–∞–±–æ—Ç—á–∏–∫ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –Ω–∞—Å—Ç—Ä–æ–µ–∫
            document.getElementById('save-settings').addEventListener('click', saveSettings);

            // –û–±—Ä–∞–±–æ—Ç—á–∏–∫ —Ç–µ–º—ã
            document.getElementById('dark-theme').addEventListener('change', function() {
                toggleDarkTheme(this.checked);
            });

            // –ü—Ä–∏–º–µ–Ω—è–µ–º —Ç–µ–∫—É—â—É—é —Ç–µ–º—É
            toggleDarkTheme(settings.darkTheme);
        }

        // –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –Ω–∞—Å—Ç—Ä–æ–µ–∫
        function saveSettings() {
            settings.workInterval = parseInt(document.getElementById('work-interval').value);
            settings.shortBreak = parseInt(document.getElementById('short-break').value);
            settings.longBreak = parseInt(document.getElementById('long-break').value);
            settings.soundNotifications = document.getElementById('sound-notifications').checked;
            settings.browserNotifications = document.getElementById('browser-notifications').checked;
            settings.darkTheme = document.getElementById('dark-theme').checked;

            localStorage.setItem('pomodoroSettings', JSON.stringify(settings));

            // –û–±–Ω–æ–≤–ª—è–µ–º —Ç–∞–π–º–µ—Ä, –µ—Å–ª–∏ –æ–Ω –Ω–µ –∞–∫—Ç–∏–≤–µ–Ω
            if (!timerRunning) {
                setTimer(settings.workInterval * 60);
            }

            // –ü—Ä–∏–º–µ–Ω—è–µ–º —Ç–µ–º—É
            toggleDarkTheme(settings.darkTheme);

            showNotification('–ù–∞—Å—Ç—Ä–æ–π–∫–∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω—ã');
        }

        // –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ —Ç–µ–º–Ω–æ–π —Ç–µ–º—ã
        function toggleDarkTheme(enable) {
            if (enable) {
                document.body.style.backgroundColor = '#1a1a1a';
                document.body.style.color = '#f5f5f5';
                document.querySelectorAll('.tab-content, .stat-card, .achievement-card, .settings-group, .task-item, .task-form, .chart-container').forEach(el => {
                    el.style.backgroundColor = '#2d2d2d';
                    el.style.color = '#f5f5f5';
                });
            } else {
                document.body.style.backgroundColor = '#f5f7fa';
                document.body.style.color = '#2c3e50';
                document.querySelectorAll('.tab-content, .stat-card, .achievement-card, .settings-group, .task-item, .task-form, .chart-container').forEach(el => {
                    el.style.backgroundColor = 'white';
                    el.style.color = '#2c3e50';
                });
            }
        }

        // –ü–æ–∫–∞–∑–∞—Ç—å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ
        function showNotification(message, type = 'success') {
            const notification = document.getElementById('notification');
            const notificationText = document.getElementById('notification-text');

            notificationText.textContent = message;
            notification.className = `notification ${type} show`;

            setTimeout(() => {
                notification.classList.remove('show');
            }, 3000);
        }

        // –í–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏–µ –∑–≤—É–∫–∞ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
        function playNotificationSound() {
            // –í —Ä–µ–∞–ª—å–Ω–æ–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏ –∑–¥–µ—Å—å –±—É–¥–µ—Ç –∫–æ–¥ –¥–ª—è –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏—è –∑–≤—É–∫–∞
            console.log('–ó–≤—É–∫–æ–≤–æ–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ');
        }

        // –ó–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö –∏–∑ localStorage
        function loadData() {
            // –î–∞–Ω–Ω—ã–µ —É–∂–µ –∑–∞–≥—Ä—É–∂–µ–Ω—ã –≤ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –ø—Ä–∏ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏
            // –ó–¥–µ—Å—å –º–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—É—é –ª–æ–≥–∏–∫—É –∑–∞–≥—Ä—É–∑–∫–∏
        }
    </script>
</body>
</html></title>
</head>
<body>

</body>
</html>